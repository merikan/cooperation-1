<!--

    Copyright (c) 2014 Center for eHalsa i samverkan (CeHis).
    								<http://cehis.se/>

    This file is part of SKLTP.

    This library is free software; you can redistribute it and/or
    modify it under the terms of the GNU Lesser General Public
    License as published by the Free Software Foundation; either
    version 2.1 of the License, or (at your option) any later version.

    This library is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
    Lesser General Public License for more details.

    You should have received a copy of the GNU Lesser General Public
    License along with this library; if not, write to the Free Software
    Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA

-->
<!doctype html>
<html>
  <head>
    <script type='text/javascript'>
       function getVariable(string, variable) {
         var vars = string.split('&');
         for (var i = 0; i < vars.length; i++) {
             var pair = vars[i].split('=');
             if (decodeURIComponent(pair[0]) == variable) {
                 return decodeURIComponent(pair[1]);
             }
         }

        return undefined;
       }

       function getQueryVariable(variable) {
         var query = window.location.search.substring(1);
         return getVariable(query, variable);
       }

       var result = {
        token: getQueryVariable('oauth_token'),
        verifier: getQueryVariable('oauth_verifier')
       };

       window.opener.RAML.authorizationSuccess(result);
       window.close();
    </script>
  </head>
  <body>
  </body>
</html>
